<article>
  <img [src]="housingLocation?.photo" alt="housing-location-photo" class="listing-photo">
  <section class="listing-description">
    <h2 class="listing-heading">{{ housingLocation?.name }}</h2>
    <p class="listing-location"> {{ housingLocation?.city }}, {{ housingLocation?.state }}</p>
  </section>
  <section class="listing-features">
    <h2 class="section-heading">About this housing location</h2>
    <ul>
      <li>
        Units available: {{ housingLocation?.availableUnits }}
      </li>
      <li>
        Does this location have wifi: {{ housingLocation?.wifi ? 'Yes' : 'No' }}
      </li>
      <li>
        Does this location have laundry: {{ housingLocation?.laundry ? 'Yes' : 'No' }}
      </li>
    </ul>
  </section>
  <section class="listing-apply">
    <h2 class="section-heading">Apply now to live here</h2>
    <form [formGroup]="applyForm" (ngSubmit)="submitApplication()">
      <label for="first-name">First Name</label>
      <input type="text" name="first-name" id="first-name" formControlName="firstName">
      <label for="last-name">Last Name</label>
      <div *ngIf="firstName?.hasError('required') && (firstName?.dirty || firstName?.touched)">
        <small>A lastName is required</small>
      </div>
      <input type="text" name="last-name" id="last-name" formControlName="lastName">
      <div *ngIf="lastName?.hasError('required') && (lastName?.dirty || lastName?.touched)">
        <small>A lastName is required</small>
      </div>
      <label for="email">Email</label>
      <input type="email" name="email" id="email" formControlName="email">
      <div *ngIf="email?.hasError('email')">
        <small>Please type a valid email</small>
      </div>
      <div *ngIf="email?.hasError('required') && (email?.dirty || email?.touched)">
        <small>An email is required</small>
      </div>
      <div *ngIf="errorMsg">
        <small>{{ errorMsg }}</small>
      </div>
      <button type="submit" [class]="['primary', inputError() ? 'disabled' : 'enabled']">Apply Now</button>
    </form>
  </section>
</article>